/**
 * 颜色网格组件样式
 * 响应式网格布局和动画效果
 */

// 导入全局变量
@import '../../pages/Home.scss';

.color-grid {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  
  &__container {
    width: 100%;
    height: 100%;
    padding: calc(var(--base-unit, 0.5rem) * 2);
    padding-top: calc(var(--base-unit, 0.5rem) * 1);
    padding-bottom: calc(var(--base-unit, 0.5rem) * 8);
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: calc(var(--base-unit, 0.5rem) * 1.5);
    overflow-y: auto;
    
    // 隐藏滚动条
    &::-webkit-scrollbar {
      display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;
    
    // 响应式布局调整
    @media (max-width: $content-width) {
      padding: var(--base-unit, 0.5rem);
      padding-top: calc(var(--base-unit, 0.5rem) * 0.5);
      padding-bottom: calc(var(--base-unit, 0.5rem) * 6);
      gap: var(--base-unit, 0.5rem);
    }
    
    // 平板布局
    @media (min-width: 768px) and (max-width: 1024px) {
      grid-template-columns: repeat(3, 1fr);
      gap: calc(var(--base-unit, 0.5rem) * 2);
    }
    
    // 桌面布局
    @media (min-width: 1024px) {
      grid-template-columns: repeat(4, 1fr);
      gap: calc(var(--base-unit, 0.5rem) * 2.5);
      padding: calc(var(--base-unit, 0.5rem) * 3);
    }
  }
  
  &__item {
    position: relative;
    width: 100%;
    min-height: 120px;
    
    // 响应式高度调整
    @media (max-width: 480px) {
      min-height: 100px;
    }
    
    @media (min-width: 768px) {
      min-height: 140px;
    }
    
    @media (min-width: 1024px) {
      min-height: 160px;
    }
  }
  
  // 空状态样式
  &--empty {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
  }
  
  &__empty-message {
    text-align: center;
    color: rgba(255, 255, 255, 0.7);
    
    p {
      margin: 0;
      font-size: 1rem;
      font-family: 'TsangerYuYang', sans-serif;
      opacity: 0.8;
    }
  }
}

// 性能优化：启用硬件加速
.color-grid {
  will-change: transform;
  transform: translateZ(0);
  
  &__container {
    will-change: scroll-position;
    transform: translateZ(0);
  }
  
  &__item {
    will-change: transform;
    transform: translateZ(0);
  }
}

// 滚动性能优化
.color-grid__container {
  scroll-behavior: smooth;
  
  // iOS滚动优化
  -webkit-overflow-scrolling: touch;
  
  // 滚动条样式（Firefox）
  scrollbar-width: none;
  scrollbar-color: transparent transparent;
}

// 加载状态样式
.color-grid--loading {
  .color-grid__container {
    opacity: 0.5;
    pointer-events: none;
  }
}

// 动画状态样式
.color-grid--transitioning {
  .color-grid__item {
    pointer-events: none;
  }
}